# Cyclos\Api\PushApi

All URIs are relative to *http://kb1.cyclos-dev.info/api*

Method | HTTP request | Description
------------- | ------------- | -------------
[**subscribeForPushNotifications**](PushApi.md#subscribeforpushnotifications) | **GET** /push/subscribe | Subscribes for receiving push notifications of specific types

# **subscribeForPushNotifications**
> string subscribeForPushNotifications($client_id, $kinds, $account_ids, $ticket_number, $last_event_id)

Subscribes for receiving push notifications of specific types

Returns an event stream of server-sent events

### Example
```php
<?php
require_once(__DIR__ . '/vendor/autoload.php');
// Configure API key authorization: accessClient
$config = Cyclos\Api\Configuration::getDefaultConfiguration()->setApiKey('Access-Client-Token', 'YOUR_API_KEY');
// Uncomment below to setup prefix (e.g. Bearer) for API key, if needed
// $config = Cyclos\Api\Configuration::getDefaultConfiguration()->setApiKeyPrefix('Access-Client-Token', 'Bearer');// Configure HTTP basic authorization: basic
$config = Cyclos\Api\Configuration::getDefaultConfiguration()
              ->setUsername('YOUR_USERNAME')
              ->setPassword('YOUR_PASSWORD');
// Configure API key authorization: session
$config = Cyclos\Api\Configuration::getDefaultConfiguration()->setApiKey('Session-Token', 'YOUR_API_KEY');
// Uncomment below to setup prefix (e.g. Bearer) for API key, if needed
// $config = Cyclos\Api\Configuration::getDefaultConfiguration()->setApiKeyPrefix('Session-Token', 'Bearer');

$apiInstance = new Cyclos\Api\Functions\PushApi(
    // If you want use custom http client, pass your client which implements `GuzzleHttp\ClientInterface`.
    // This is optional, `GuzzleHttp\Client` will be used as default.
    new GuzzleHttp\Client(),
    $config
);
$client_id = "client_id_example"; // string | An id generated by the client. This id is valid for the authenticated used, indicating a single session. As event streams can timeout and be reconnected, subsequent subscriptions with the same user and client id are considered the same subscription, and missed events since the last timeout will be immediately delivered. Missed events are enqueued up to a few minutes after the connection timeout. After that window, any enqueued events are discarded.
$kinds = array(new \Cyclos\Api\Model\PushNotificationEventKind()); // \Cyclos\Api\Model\PushNotificationEventKind[] | The event kinds for which the client desires to subscribe
$account_ids = array("account_ids_example"); // string[] | When subscribing to `accountStatus` events, this parameter must be informed to select the accounts to be watched for.
$ticket_number = "ticket_number_example"; // string | When subscribing to `ticket` events, this parameter can be used to filter which ticket to monitor.
$last_event_id = "last_event_id_example"; // string | The last received event id, in case of reconnections. May also be passed as the standard header `Last-Event-ID`.

try {
    $result = $apiInstance->subscribeForPushNotifications($client_id, $kinds, $account_ids, $ticket_number, $last_event_id);
    print_r($result);
} catch (Exception $e) {
    echo 'Exception when calling PushApi->subscribeForPushNotifications: ', $e->getMessage(), PHP_EOL;
}
?>
```

### Parameters

Name | Type | Description  | Notes
------------- | ------------- | ------------- | -------------
 **client_id** | **string**| An id generated by the client. This id is valid for the authenticated used, indicating a single session. As event streams can timeout and be reconnected, subsequent subscriptions with the same user and client id are considered the same subscription, and missed events since the last timeout will be immediately delivered. Missed events are enqueued up to a few minutes after the connection timeout. After that window, any enqueued events are discarded. |
 **kinds** | [**\Cyclos\Api\Model\PushNotificationEventKind[]**](../Model/\Cyclos\Api\Model\PushNotificationEventKind.md)| The event kinds for which the client desires to subscribe |
 **account_ids** | [**string[]**](../Model/string.md)| When subscribing to &#x60;accountStatus&#x60; events, this parameter must be informed to select the accounts to be watched for. | [optional]
 **ticket_number** | **string**| When subscribing to &#x60;ticket&#x60; events, this parameter can be used to filter which ticket to monitor. | [optional]
 **last_event_id** | **string**| The last received event id, in case of reconnections. May also be passed as the standard header &#x60;Last-Event-ID&#x60;. | [optional]

### Return type

**string**

### Authorization

[accessClient](../../README.md#accessClient), [basic](../../README.md#basic), [session](../../README.md#session)

### HTTP request headers

 - **Content-Type**: Not defined
 - **Accept**: text/event-stream, application/json

[[Back to top]](#) [[Back to API list]](../../README.md#documentation-for-api-endpoints) [[Back to Model list]](../../README.md#documentation-for-models) [[Back to README]](../../README.md)

